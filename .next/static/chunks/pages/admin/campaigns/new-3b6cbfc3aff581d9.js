(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{5085:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/campaigns/new",function(){return a(5261)}])},5261:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(5893),r=a(7294),o=a(1163),s=a(9008),l=a.n(s);function i(){let e=(0,o.useRouter)(),[t,a]=(0,r.useState)({name:"T-Shirt Vote",subject:"Vote on Gulf Coast Charters logo shirts (big back logo + pocket front)",body:'Hey there,\n\nI\'m finalizing Gulf Coast Charters T‑shirts and I\'ve settled on one style:\n\n- Big GCC logo on the back\n- Small GCC logo + short slogan on the front pocket area\n\nNo extra artwork—just our real logo, clean and professional.\n\nWhat I need from you\n\nPlease reply with:\n\n1) Which front pocket slogan do you like best?\n   (all with a small GCC logo next to or above the text)\n\n   A) "Gulf Coast Charters – Captain\'s Crew"\n   B) "Gulf Coast Charters – Life\'s Better on the Water"\n   C) "Gulf Coast Charters – Reel Adventures"\n   D) "Gulf Coast Charters – Est. 2024"\n\n2) Shirt color(s) you\'d actually wear\n   - White\n   - Navy\n   - Black\n   - Heather gray\n   - Light blue\n   - Other: _________\n\n3) Size\n   - S / M / L / XL / XXL / other\n\nA short reply like this is perfect:\nBack logo + C, navy or heather gray, XL\n\nThanks for helping me lock this in,\nShane\nGulf Coast Charters',recipients:"",template:"tshirt-vote"}),[s,i]=(0,r.useState)(!1),c={"tshirt-vote":{name:"T-Shirt Vote",subject:"Vote on Gulf Coast Charters logo shirts (big back logo + pocket front)",body:'Hey {name},\n\nI\'m finalizing Gulf Coast Charters T‑shirts and I\'ve settled on one style:\n\n- Big GCC logo on the back\n- Small GCC logo + short slogan on the front pocket area\n\nNo extra artwork—just our real logo, clean and professional.\n\nWhat I need from you\n\nPlease reply with:\n\n1) Which front pocket slogan do you like best?\n   (all with a small GCC logo next to or above the text)\n\n   A) "Gulf Coast Charters – Captain\'s Crew"\n   B) "Gulf Coast Charters – Life\'s Better on the Water"\n   C) "Gulf Coast Charters – Reel Adventures"\n   D) "Gulf Coast Charters – Est. 2024"\n\n2) Shirt color(s) you\'d actually wear\n   - White\n   - Navy\n   - Black\n   - Heather gray\n   - Light blue\n   - Other: _________\n\n3) Size\n   - S / M / L / XL / XXL / other\n\nA short reply like this is perfect:\nBack logo + C, navy or heather gray, XL\n\nThanks for helping me lock this in,\nShane\nGulf Coast Charters'},custom:{name:"Custom Email",subject:"",body:""}},u=e=>{let n=c[e];a({...t,template:e,name:n.name,subject:n.subject,body:n.body})},d=async()=>{i(!0);try{let e=await fetch("/api/admin/users"),n=await e.json();if(n.users&&n.users.length>0){let e=n.users.map(e=>e.email).filter(Boolean).join(", ");a({...t,recipients:e}),alert("Imported ".concat(n.users.length," user emails"))}else alert("No users found")}catch(e){alert("Error importing users: ".concat(e.message))}finally{i(!1)}},h=async a=>{a.preventDefault();try{let a=await fetch("/api/admin/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,recipients:t.recipients,sendNow:!0})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create campaign")}let n=await a.json();alert("Campaign created! Sending to ".concat(n.recipientCount," recipients...")),e.push("/admin/campaigns")}catch(e){alert("Error: ".concat(e.message))}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"New Campaign - Admin - Gulf Coast Charters"})}),(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("button",{onClick:()=>e.push("/admin/campaigns"),className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2",children:"← Back to Campaigns"}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Campaign"}),(0,n.jsxs)("form",{onSubmit:h,className:"bg-white rounded-lg shadow p-8 space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template"}),(0,n.jsxs)("select",{value:t.template,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,n.jsx)("option",{value:"tshirt-vote",children:"T-Shirt Vote"}),(0,n.jsx)("option",{value:"custom",children:"Custom Email"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Campaign Name"}),(0,n.jsx)("input",{type:"text",value:t.name,onChange:e=>a({...t,name:e.target.value}),placeholder:"e.g., T-Shirt Vote - December 2024",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Subject"}),(0,n.jsx)("input",{type:"text",value:t.subject,onChange:e=>a({...t,subject:e.target.value}),placeholder:"Subject line",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Body"}),(0,n.jsx)("textarea",{value:t.body,onChange:e=>a({...t,body:e.target.value}),placeholder:"Email content... Use {name} for personalization",rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",required:!0}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{name}"," and ","{email}"," for personalization"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Recipients (comma-separated emails)"}),(0,n.jsx)("button",{type:"button",onClick:d,disabled:s,className:"text-sm text-blue-600 hover:text-blue-800 font-semibold disabled:opacity-50",children:s?"Loading...":"\uD83D\uDCE5 Import All Users"})]}),(0,n.jsx)("textarea",{value:t.recipients,onChange:e=>a({...t,recipients:e.target.value}),placeholder:"email1@example.com, email2@example.com",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Or click "Import All Users" to load all registered emails'})]}),(0,n.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,n.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold",children:"Send Now"}),(0,n.jsx)("button",{type:"button",onClick:()=>alert("Schedule feature coming soon!"),className:"flex-1 bg-gray-200 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-300 font-semibold",children:"Schedule for Later"}),(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/admin/campaigns"),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"})]})]})]})})]})}},9008:function(e,t,a){e.exports=a(3867)},1163:function(e,t,a){e.exports=a(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5085)}),_N_E=e.O()}]);