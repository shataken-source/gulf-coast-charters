import { runPenetrationTests } from './penetration-tests.js';

async function runTests() {
  console.log('üõ°Ô∏è  Running Penetration Tests...\n');
  
  try {
    const results = await runPenetrationTests();
    
    let prevented = 0;
    let vulnerable = 0;
    
    results.forEach(result => {
      if (result.prevented) {
        console.log(`‚úÖ ${result.attack} - PREVENTED`);
        console.log(`   ${result.details}`);
        prevented++;
      } else {
        console.log(`‚ùå ${result.attack} - VULNERABLE (${result.severity})`);
        console.log(`   ${result.details}`);
        vulnerable++;
      }
    });
    
    console.log(`\nüìä Results: ${prevented} prevented, ${vulnerable} vulnerable`);
    
    if (vulnerable > 0) {
      process.exit(1);
    }
  } catch (error) {
    console.error('‚ùå Test execution failed:', error);
    process.exit(1);
  }
}

runTests();
